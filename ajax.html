<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internship this is great</title>
    <link rel="stylesheet" href="./style.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap');
    </style>
</head>





<body>
    <div class="wrapper">

        <div class="header_container">
            <div class="header_content">
                <div class="logo"><img src="./Vector.png" alt=""></div>

                <nav class="tasks_list_wrap">
                    <ul class="list_li">
                        <li><a id="index" href="./index.html">Задание 1</a></li>
                        <li><a id="form" href="./form.html">Задание 2</a></li>
                        <li><a id="ackardeon" href="./ackardeon.html">Задание 3</a></li>
                        <li><a id="random" href="./random.html">Задание 4</a></li>
                        <li><a id="breadcrums" href="./breadcrums.html">Задание 5</a></li>
                        <li><a id="ajax" href="./ajax.html">Задание 6</a></li>
                    </ul>
                </nav>
                <div class="user_content">
                    <img alt="" src="./icon-user.png"><a class="user_text" href="#"></a>
                </div>
                <div class="burger-menu">
                    <span class="icon-burger">
                    </span>
                    <span class="icon-burger2">
                    </span>
                    <span class="icon-burger3">
                    </span>
                </div>
                <div class="menu-burgger">
                    <ul class="">
                        <li><a href="./index.html">Задание 1</a></li>
                        <li><a href="./form.html">Задание 2</a></li>
                        <li><a href="./ackardeon.html">Задание 3</a></li>
                        <li><a href="./random.html">Задание 4</a></li>
                        <li><a href="./breadcrums.html">Задание 5</a></li>
                        <li><a href="./ajax.html">Задание 6</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="ajax_container">
            <div class="ajax_title">Ассинхрон</div>
            <div class="ajax_result">Тут результат</div>

            <div class="ajax_result_wrap">
                <div class="ajax_result_population">Население города <span class="city_ajax"></span> равна: <span class="numbers_people"></span>
                 человек</div>
                 <div class="ajax_result_weather">Погода города  <span class="city_ajax"></span> равна: <span class="weather"></span>
                    °C <span class="weather_img"><img src="" alt=""></span>
                </div>
            </div>

            <input type="text" name="" id="ajax_input_city" placeholder="Введите город">
            <button class="ajax_show" type="submit">Показать</button>
        </div>
        <div class="footer_container">
            <div class="footer_content">
                <div class="logo_foot"><img src="./Vector.png" alt=""></div>
                <div class="container_data">
                    <div class="footer_completed">Выполнил Ашмарин.М.В</div>
                    <div class="footer_phone">тел +7 908 654 38 04</div>
                </div>
            </div>

        </div>

    </div>
    <script src="./script.js"></script>
    <script>
        let city = document.querySelectorAll('.city_ajax')
        let btn = document.querySelector('.ajax_show');
        btn.addEventListener('click',()=>{
            city.forEach(i=>{
            i.textContent = document.querySelector('#ajax_input_city').value;
            })
            
          let path = document.querySelector('#ajax_input_city').value;  
        fetch(`https://api.geotree.ru/search.php?key=RG8teFGLUAmx&term=${path}&level=4`)
        .then(response =>{return response.json()})
        .then(Response => {
            document.querySelector('.numbers_people').textContent = Response[0].population;
            

        })

        fetch(`http://api.weatherapi.com/v1/current.json?key=6e22385dfa224a24843211644230603&q=${path}&aqi=no`)
        .then(response =>{return response.json()})
        .then(Response => {
            document.querySelector('.weather').textContent = Response.current.temp_c;
            document.querySelector('.weather_img img').src = Response.current.condition.icon;

            
        })
        document.querySelector('.ajax_result_wrap').style.display = 'block'
        
        })



       
        
    </script>
 
</body>

</html>
